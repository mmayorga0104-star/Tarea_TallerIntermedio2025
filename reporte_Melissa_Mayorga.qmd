---
title: "tarea"
author: "melissa_mayorga"
format: 
  gfm:
    toc: false
editor: visual
---

## Reporte de curso AECID

### Ejercicio de datos temporales

Para este ejercicio se emplearon datos de temperatura de COPERNICUS. Los datos se importaron con el paquete **SATIN.**

```{r}
library(satin) #cargar paquete
sst <- read.cmems("cmems_mod_glo_phy_my_0.083deg_P1D-m_1728505215428.nc")
```

Una vez importados los datos, se inspeccionaron:

```{r}
sst
```

Se trata de datos diarios de temperatura (temperatura potencial) a dos profundidades correspondientes a dos años (2019-2020).

Posteriormente, se realizó un mapa del primer día.

```{r}
data(dmap)
plot(sst, map = dmap, period = 365)
```

Seguido, se procedió a extraer datos de temperatura de dos pixeles para la zona norte y sur en el Pacífico mexicano.

```{r}
pts <- data.frame(lon = c(-111.1917, -109.5728),
                  lat = c(26.38483, 22.30874))
x <- extractPts(sst, points = pts)

sst.st <- data.frame(fecha = sst@period$tmStart,
                     norte = t(x[1, 7:(731+6)]),
                     sur = t(x[2, 7:(731+6)]))
names(sst.st)[2:3] <- c("norte", "sur")
head(sst.st)

```

A continuación se realizó una gráfica de temperatura diaria para la zona norte y sur en el Pacífico mexicano.

```{r}
plot(sst.st$fecha, sst.st$norte, type = "n")
lines(sst.st$fecha, sst.st$norte, col = "red")
lines(sst.st$fecha, sst.st$sur, col = "blue")
legend("topleft", col = c("red", "blue"), lty = 1, pch = 16, legend = c("norte", "sur"))
```

Seguido, se obtuvieron los promedios semanales y se elaboró el siguiente gráfico de la temperatura promedio semanal para ambos años.

```{r}
sst.weekly <- satinMean(sst, by = "%Y-%W")
```

```{r}

x <- extractPts(sst.weekly, points = pts)

sstW.st <- data.frame(sst.weekly@period$tmStart,
                      t(x[1, 7:(53+6)]),
                      t(x[2, 7:(53+6)]))
names(sstW.st) <- c("fecha", "norte", "sur")

plot(sstW.st$fecha, sstW.st$norte, type = "n",
     ylab = "Temperatura promedio semanal (°C)",
     xlab = "fecha", las = 1)
lines(sstW.st$fecha, sstW.st$norte, col = rgb(1, 0, 0, 0.5), type = "o", pch = 16)
lines(sstW.st$fecha, sstW.st$sur, col = rgb(0, 0, 1, 0.5), type = "o", pch = 16)
legend("topleft", col = c("red", "blue"), lty = 1, pch = 16, legend = c("norte", "sur"))
```

En este ejercicio empleé herramientas del paquete **SATIN**, extraccion de puntos, se realizaron gráficos de temperatura. En el primer gráfico se presentan los datos diarios de temperatura y en el segundo gráfico se presentan la temperatura promedio mensual de dos regiones en el Pacífico mexicano.
